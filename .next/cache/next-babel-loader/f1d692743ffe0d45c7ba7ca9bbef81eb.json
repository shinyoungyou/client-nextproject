{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport instance from '.';\nconst pause = duration => {\n  return new Promise(resolve => {\n    setTimeout(resolve, duration);\n  });\n};\nexport const loadMyInfo = createAsyncThunk('user/loadMyInfo', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.get('user/');\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const logIn = createAsyncThunk('user/logIn', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.post('user/login', payload);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const logOut = createAsyncThunk('user/logOut', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.post('user/logout');\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const signUp = createAsyncThunk('user/signUp', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.post('user/', payload);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const changeUsername = createAsyncThunk('user/changeUsername', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.patch('user/profile', payload);\n    await pause(1000);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const follow = createAsyncThunk('user/follow', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.put(`user/${payload.id}/follow`, payload);\n    // await pause(1000);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const unfollow = createAsyncThunk('user/unfollow', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.delete(`user/following/${payload.id}`);\n    // await pause(1000);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});","map":{"version":3,"names":["createAsyncThunk","instance","pause","duration","Promise","resolve","setTimeout","loadMyInfo","payload","thunkAPI","response","get","fulfillWithValue","data","error","rejectWithValue","logIn","post","logOut","signUp","changeUsername","patch","follow","put","id","unfollow","delete"],"sources":["/Users/home/Desktop/new-projects/client-nextproject/store/thunks/user.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport instance from '.';\n\nconst pause = (duration) => {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n};\n\nexport const loadMyInfo = createAsyncThunk('user/loadMyInfo', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.get('user/');\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const logIn = createAsyncThunk('user/logIn', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.post('user/login', payload);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const logOut = createAsyncThunk('user/logOut', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.post('user/logout');\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const signUp = createAsyncThunk('user/signUp', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.post('user/', payload);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const changeUsername = createAsyncThunk('user/changeUsername', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.patch('user/profile', payload);\n        await pause(1000);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const follow = createAsyncThunk('user/follow', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.put(`user/${payload.id}/follow`, payload);\n        // await pause(1000);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const unfollow = createAsyncThunk('user/unfollow', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.delete(`user/following/${payload.id}`);\n        // await pause(1000);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}