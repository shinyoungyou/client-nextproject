{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { loadMyInfo, loadFollowings, loadFollowers } from \"../store/thunks/user\";\nimport Head from \"next/head\";\nimport { useRouter } from 'next/router';\nimport { useEffect } from \"react\";\nimport AppLayout from '../components/AppLayout';\nimport UsernameEditForm from '../components/UsernameEditForm';\nimport FollowList from '../components/FollowList';\nimport wrapper from \"../store\";\nimport axios from \"axios\";\nconst Profile = () => {\n  const {\n    my\n  } = useSelector(state => state.user);\n  const router = useRouter();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (my === null) router.replace('/');\n    return;\n  }, [my]);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Profile Page\")), __jsx(AppLayout, null, __jsx(UsernameEditForm, null), __jsx(FollowList, {\n    header: \"Followings\",\n    item: my === null || my === void 0 ? void 0 : my.Followings\n  }), __jsx(FollowList, {\n    header: \"Followers\",\n    item: my === null || my === void 0 ? void 0 : my.Followers\n  })));\n};\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n  await context.store.dispatch(loadMyInfo());\n  await context.store.dispatch(loadFollowings());\n  await context.store.dispatch(loadFollowers());\n  // console.log(context.req);\n});\n\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}