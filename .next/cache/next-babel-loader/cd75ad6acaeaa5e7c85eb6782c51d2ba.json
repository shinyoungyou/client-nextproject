{"ast":null,"code":"var __jsx = React.createElement;\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { follow, unfollow } from \"../store/thunks/user\";\nimport React from \"react\";\nimport { StyledMenu } from \"../styles\";\nimport { MenuItem } from \"@mui/material\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport ListItemDecorator from \"@mui/joy/ListItemDecorator\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport PersonAddAltRoundedIcon from \"@mui/icons-material/PersonAddAltRounded\";\nimport BackspaceIcon from '@mui/icons-material/Backspace';\nimport FlagIcon from \"@mui/icons-material/Flag\";\nimport { LoadingButton } from \"@mui/lab\";\nconst MoreMenu = ({\n  item,\n  anchorEl,\n  setAnchorEl,\n  open,\n  editStatus,\n  setEditStatus,\n  handleEdit,\n  editLoading,\n  handleDelete,\n  removeLoading\n}) => {\n  const {\n    my,\n    followLoading,\n    unfollowLoading\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const isFollowing = my === null || my === void 0 ? void 0 : my.Followings.find(user => user.id == item.User.id);\n  const handleFollowing = item => {\n    if (isFollowing) {\n      dispatch(unfollow({\n        id: item.User.id\n      }));\n    } else {\n      dispatch(follow(item.User));\n    }\n  };\n  return __jsx(StyledMenu, {\n    id: \"demo-customized-menu\",\n    MenuListProps: {\n      'aria-labelledby': 'demo-customized-button'\n    },\n    anchorEl: anchorEl,\n    open: open,\n    onClose: handleClose\n  }, (my === null || my === void 0 ? void 0 : my.id) == item.User.id ? __jsx(React.Fragment, null, __jsx(MenuItem, {\n    key: \"Edit\",\n    onClick: handleEdit\n  }, __jsx(LoadingButton, {\n    loading: editLoading,\n    sx: {\n      p: 0,\n      color: \"inherit\",\n      textTransform: \"inherit\",\n      fontSize: \"inherit\"\n    }\n  }, __jsx(ListItemDecorator, {\n    sx: {\n      color: 'inherit'\n    }\n  }, __jsx(EditIcon, null)), ' ', editStatus === \"beforeEdit\" && \"Edit\", editStatus === \"editing\" && \"Done\")), editStatus === \"editing\" && __jsx(MenuItem, {\n    key: \"Cancel\",\n    onClick: () => setEditStatus(\"beforeEdit\")\n  }, __jsx(LoadingButton, {\n    loading: editLoading,\n    sx: {\n      p: 0,\n      color: \"inherit\",\n      textTransform: \"inherit\",\n      fontSize: \"inherit\"\n    }\n  }, __jsx(ListItemDecorator, {\n    sx: {\n      color: 'inherit'\n    }\n  }, __jsx(BackspaceIcon, null)), ' ', \"Cancel\")), __jsx(MenuItem, {\n    key: \"Delete\",\n    onClick: handleDelete\n  }, __jsx(LoadingButton, {\n    loading: removeLoading,\n    sx: {\n      p: 0,\n      color: \"inherit\",\n      textTransform: \"inherit\",\n      fontSize: \"inherit\"\n    }\n  }, __jsx(ListItemDecorator, {\n    sx: {\n      color: 'inherit'\n    }\n  }, __jsx(DeleteIcon, null)), ' ', \"Delete\"))) : __jsx(React.Fragment, null, __jsx(MenuItem, {\n    key: isFollowing ? \"Unfollow\" : \"Follow\",\n    onClick: () => handleFollowing(item),\n    disableRipple: true\n  }, __jsx(LoadingButton, {\n    loading: isFollowing ? unfollowLoading : followLoading,\n    sx: {\n      p: 0,\n      color: \"inherit\",\n      textTransform: \"inherit\",\n      fontSize: \"inherit\"\n    }\n  }, __jsx(ListItemDecorator, {\n    sx: {\n      color: 'inherit'\n    }\n  }, __jsx(PersonAddAltRoundedIcon, null)), ' ', isFollowing ? \"Unfollow\" : \"Follow\")), __jsx(MenuItem, {\n    key: \"Report\",\n    onClick: handleClose,\n    disableRipple: true\n  }, __jsx(FlagIcon, null), \"Report\")));\n};\nexport default MoreMenu;","map":null,"metadata":{},"sourceType":"module"}