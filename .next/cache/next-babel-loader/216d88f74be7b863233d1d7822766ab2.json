{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport instance from '.';\nconst pause = duration => {\n  return new Promise(resolve => {\n    setTimeout(resolve, duration);\n  });\n};\nexport const loadMyInfo = createAsyncThunk('user/loadMyInfo', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.get('user/');\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const loadSingleUser = createAsyncThunk('user/loadSingleUser', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.get(`user/${payload.id}`);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const logIn = createAsyncThunk('user/logIn', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.post('user/login', payload);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const logOut = createAsyncThunk('user/logOut', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.post('user/logout');\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const signUp = createAsyncThunk('user/signUp', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.post('user/', payload);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const changeUsername = createAsyncThunk('user/changeUsername', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.patch('user/profile', payload);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const loadFollowings = createAsyncThunk('user/loadFollowings', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.get('user/followings');\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const follow = createAsyncThunk('user/follow', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.put(`user/following/${payload.id}`, payload);\n    // await pause(1000);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const unfollow = createAsyncThunk('user/unfollow', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.delete(`user/following/${payload.id}`);\n    // await pause(1000);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const loadFollowers = createAsyncThunk('user/loadFollowers', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.get('user/followers');\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});\n\nexport const removeFollower = createAsyncThunk('user/removeFollower', async (payload, thunkAPI) => {\n  try {\n    const response = await instance.delete(`user/follower/${payload.id}`);\n    // await pause(1000);\n    return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n  }\n});","map":{"version":3,"names":["createAsyncThunk","instance","pause","duration","Promise","resolve","setTimeout","loadMyInfo","payload","thunkAPI","response","get","fulfillWithValue","data","error","rejectWithValue","loadSingleUser","id","logIn","post","logOut","signUp","changeUsername","patch","loadFollowings","follow","put","unfollow","delete","loadFollowers","removeFollower"],"sources":["/Users/home/Desktop/new-projects/client-nextproject/store/thunks/user.ts"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport instance from '.';\n\nconst pause = (duration: number) => {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n};\n\nexport const loadMyInfo = createAsyncThunk('user/loadMyInfo', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.get('user/');\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const loadSingleUser = createAsyncThunk('user/loadSingleUser', async (payload: { id: number }, thunkAPI) => {\n    try {\n        const response = await instance.get(`user/${payload.id}`);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const logIn = createAsyncThunk('user/logIn', async (payload: { email: string, pass: string }, thunkAPI) => {\n    try {\n        const response = await instance.post('user/login', payload);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const logOut = createAsyncThunk('user/logOut', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.post('user/logout');\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const signUp = createAsyncThunk('user/signUp', async (payload: { email: string, username: string, pass: string }, thunkAPI) => {\n    try {\n        const response = await instance.post('user/', payload);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const changeUsername = createAsyncThunk('user/changeUsername', async (payload: { username: string }, thunkAPI) => {\n    try {\n        const response = await instance.patch('user/profile', payload);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const loadFollowings = createAsyncThunk('user/loadFollowings', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.get('user/followings');\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error: any) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const follow = createAsyncThunk('user/follow', async (payload: Partial<User>, thunkAPI) => {\n    try {\n        const response = await instance.put(`user/following/${payload.id}`, payload);\n        // await pause(1000);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const unfollow = createAsyncThunk('user/unfollow', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.delete(`user/following/${payload.id}`);\n        // await pause(1000);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const loadFollowers = createAsyncThunk('user/loadFollowers', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.get('user/followers');\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\nexport const removeFollower = createAsyncThunk('user/removeFollower', async (payload, thunkAPI) => {\n    try {\n        const response = await instance.delete(`user/follower/${payload.id}`);\n        // await pause(1000);\n        return thunkAPI.fulfillWithValue(response.data); // pass to extraReducer\n    } catch (error) {\n        return thunkAPI.rejectWithValue(error.response.data); // pass to extraReducer\n    }\n})\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}