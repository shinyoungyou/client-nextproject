{"version":3,"sources":["webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://_N_E/./components/PostForm.tsx","webpack://_N_E/./pages/index.tsx","webpack://_N_E/./node_modules/@mui/icons-material/ClearRounded.js","webpack://_N_E/./node_modules/@mui/icons-material/ImageOutlined.js"],"names":["window","__NEXT_P","push","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","PostForm","useSelector","state","post","imagePaths","addPostLoading","addPostDone","dispatch","user","my","useDispatch","useState","text","setText","images","setImages","useEffect","addPost","content","console","log","addEmoji","emoji","handleSubmit","e","preventDefault","alert","formData","FormData","forEach","image","append","file","uploadImages","Box","sx","m","onSubmit","encType","Textarea","placeholder","value","onChange","event","target","minRows","maxRows","startDecorator","width","display","justifyContent","gap","Tooltip","title","placement","IconButton","variant","borderColor","color","aria-label","component","hidden","accept","multiple","type","files","reader","FileReader","onloadend","prev","src","result","readAsDataURL","onClick","Typography","level","ml","fontSize","endDecorator","ImageList","maxHeight","cols","rowHeight","map","item","index","ImageListItem","position","key","zIndex","lastModified","filter","bgcolor","borderRadius","p","srcSet","alt","loading","LoadingButton","minWidth","Home","mainPosts","loadPostsLoading","bringMorePosts","prevLastId","setPrevLastId","handleScroll","scrollY","document","documentElement","clientHeight","scrollHeight","id","loadPosts","lastId","addEventListener","removeEventListener","AppLayout","Retweet","PostCard","posts","retweetingPostId","_interopRequireDefault","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"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","file":"static/chunks/pages/index-ea0cc3272cfbdb0ac6ca.js","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.tsx\");\n      }\n    ]);\n  ","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useSelector, useDispatch } from \"react-redux\";\nimport { addPost, uploadImages } from '../store/thunks/post';\nimport React, { useState, useEffect, FormEvent, ChangeEvent } from 'react';\nimport RootState from \"../store/state-types\";\nimport { ImagePath } from \"../store/state-types/post\";\nimport { User } from \"../store/state-types/user\";\n\nimport { Box, IconButton, Textarea, Typography } from '@mui/joy';\nimport ImageOutlinedIcon from '@mui/icons-material/ImageOutlined';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport Tooltip from '@mui/material/Tooltip';\nimport ClearRoundedIcon from '@mui/icons-material/ClearRounded';\nimport { LoadingButton } from '@mui/lab';\n\nconst PostForm: React.FC = () => {\n  const { imagePaths, addPostLoading, addPostDone } = useSelector((state: RootState)=>state.post);\n  const { my } = useSelector((state: RootState)=>state.user);\n  const dispatch = useDispatch();\n\n  const [text, setText] = useState('');\n  const [images, setImages] = useState<ImagePath[] | []>([]);\n\n  useEffect(()=>{\n    if(imagePaths.length > 0){\n      dispatch(addPost({\n        content: text,\n        images: imagePaths\n      }));\n    }\n  }, [imagePaths])\n\n  useEffect(()=>{\n    if(addPostDone){\n      setText('');\n      setImages([]);\n    }\n  }, [addPostDone])\n\n  useEffect(()=>{\n    console.log(images);\n  }, [images])\n  const addEmoji = (emoji: string) => () => setText(`${text}${emoji}`);\n\n  const handleChangeImagePreview = (e: ChangeEvent<HTMLInputElement>) => {\n    const { files } = e.target;\n    if (files){\n      for (let i = 0; files?.length > i; i++) {\n        const file = files[i];\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          setImages((prev) => [...prev, { src: reader.result as string, file } ])\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n  }\n\n  const handleRemoveImagePreview = (lastModified: number) => {\n    setImages((prev) => prev.filter((image) => lastModified !== image.file?.lastModified))\n  }\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (!text && images.length == 0) return alert('게시글을 작성하세요.');\n\n    if (text && images.length == 0) return dispatch(addPost({ content: text }));\n\n    const formData = new FormData();\n    images.forEach((image) => {\n      formData.append('image', image.file as Blob)\n    })\n    dispatch(uploadImages(formData));\n  }\n\n  return (\n    <Box sx={{ m: 1 }}>\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        <Textarea\n          placeholder=\"Type in here…\"\n          value={text}\n          onChange={(event) => setText(event.target.value)}\n          minRows={2}\n          maxRows={4}\n          startDecorator={\n            <Box sx={{ width: '100%', display: 'flex', justifyContent: 'center'}}>\n              <Box sx={{ display: 'flex', gap: 0.5 }}>\n                <Tooltip title=\"Media\" placement=\"top\">\n                <IconButton variant=\"outlined\" sx={{ borderColor: '#D8D8DF' }} color=\"neutral\" aria-label=\"upload picture\" component=\"label\">\n                  <input hidden accept=\"image/*\" multiple type=\"file\" onChange={handleChangeImagePreview} />\n                  <ImageOutlinedIcon color=\"primary\"/>\n                </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Good\" placement=\"top\">\n                <IconButton variant=\"outlined\" sx={{ borderColor: '#D8D8DF' }} color=\"neutral\" onClick={addEmoji('👍')}>\n                  👍\n                </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Summer\" placement=\"top\">\n                <IconButton variant=\"outlined\" sx={{ borderColor: '#D8D8DF' }} color=\"neutral\" onClick={addEmoji('🏖')}>\n                  🏖\n                </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Love\" placement=\"top\">\n                <IconButton variant=\"outlined\" sx={{ borderColor: '#D8D8DF' }} color=\"neutral\" onClick={addEmoji('😍')}>\n                  😍\n                </IconButton>\n                </Tooltip>\n              </Box>\n              <Typography level=\"body3\" sx={{ ml: 'auto', color: '#73738c', fontSize: '14px'  }}>\n                {text.length} letter(s)\n              </Typography>\n            </Box>\n          }\n          endDecorator={\n          <Box sx={{ width: '100%' }} >\n            <ImageList sx={{ width: 500, maxHeight: 350 }} cols={3} rowHeight={164}>\n              {images.map((item, index) => (\n                <ImageListItem sx={{ position: 'relative' }} key={index}>\n                  <IconButton sx={{ position: 'absolute', zIndex: 1 }} onClick={()=>handleRemoveImagePreview(item.file?.lastModified as number)}>\n                    <ClearRoundedIcon sx={{ bgcolor: 'rgba(25, 25, 25, 0.5)', color: 'white', borderRadius: '100%', p: 0.5, my: 0.5 }} />\n                  </IconButton>\n                  <img\n                    src={item.src}\n                    srcSet={item.src}\n                    alt={item.file?.name}\n                    loading=\"lazy\"\n                  />\n                </ImageListItem>\n              ))}\n              </ImageList>\n            <Box sx={{ width: '100%', display: 'flex', justifyContent: 'right' }}>\n              <LoadingButton type=\"submit\" variant=\"contained\" loading={addPostLoading}>Tweet</LoadingButton>\n            </Box>\n          </Box>\n          }\n          sx={{ minWidth: 300, borderColor: '#D8D8DF', \"&:hover\": { borderColor: '#B9B9C6' } }}\n        />\n      </form>\n    </Box>\n  )\n}\n\nexport default PostForm;","import wrapper from '../store';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadMyInfo } from \"../store/thunks/user\";\nimport { loadPosts } from \"../store/thunks/post\";\nimport React, { useState, useEffect } from \"react\";\nimport type { NextPage } from 'next';\nimport RootState from \"../store/state-types\";\nimport axios from \"axios\";\n\nimport AppLayout from '../components/AppLayout';\nimport PostForm from '../components/PostForm';\nimport PostCard from '../components/PostCard';\nimport Link from \"next/link\";\nconst Home: NextPage = () => {\n  const { my } = useSelector((state: RootState)=>state.user);\n  const { mainPosts, loadPostsLoading, bringMorePosts } = useSelector((state: RootState)=>state.post);\n  const dispatch = useDispatch();\n\n  const [prevLastId, setPrevLastId] = useState<number>(-1);\n\n  // useEffect(()=>{\n  //   if(mainPosts.length < 10){\n  //     dispatch(loadMyInfo());\n  //     dispatch(loadPosts());\n  //   }\n  //   console.log(\"loadPosts\")\n  // }, [])\n\n  useEffect(()=>{\n    const handleScroll = () => {\n      if(window.scrollY + document.documentElement.clientHeight > document.documentElement.scrollHeight - 300){\n        if(!loadPostsLoading && bringMorePosts){\n          if(prevLastId != mainPosts[mainPosts.length - 1]?.id){\n            dispatch(loadPosts({\n              lastId: mainPosts[mainPosts.length - 1]?.id\n            }));\n          }\n          setPrevLastId(mainPosts[mainPosts.length - 1]?.id);\n        }\n      }\n    }\n\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    }\n  }, [loadPostsLoading, bringMorePosts])\n\n  return (\n    <AppLayout>\n      {my !== null && <PostForm/>}\n      {mainPosts.map((post)=>(post.Retweet ? <PostCard post={post.Retweet} posts={mainPosts} retweetingPostId={post.id} key={post.id} /> : <PostCard post={post} posts={mainPosts} retweetingPostId={null} key={post.id} />))}\n    </AppLayout>\n  )\n}\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context)=>{\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n  await context.store.dispatch(loadMyInfo());\n  await context.store.dispatch(loadPosts({}));\n  // console.log(context.req);\n});\n\nexport default Home;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18.3 5.71a.9959.9959 0 0 0-1.41 0L12 10.59 7.11 5.7a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\"\n}), 'ClearRounded');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z\"\n}), 'ImageOutlined');\nexports.default = _default;"],"sourceRoot":""}